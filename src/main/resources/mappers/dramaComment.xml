<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.project.watchapedia.domain.drama.DramaCommentRepository">
  
  	<insert id="insertDramaComment" parameterType="com.project.watchapedia.domain.drama.DramaComment" 
  		useGeneratedKeys="true">
  	
  		insert into
  			comment_drama
  		values(
  			0, 
  			${user_code},
  			"${user_name}",
  			${drama_code},
  			"${drama_comment}",
  			now()
  		);
  	</insert>
  	
  	<select id="getDramaComment" parameterType="Integer" resultType="com.project.watchapedia.domain.drama.DramaComment">
  	
  		select
  			user_code,
  			user_name,
  			drama_code,
  			drama_comment
  		from
  			comment_drama
  		where
  			drama_code = ${dramaCode};
  	</select>
  	
  </mapper>