<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.project.watchapedia.domain.movie.MovieRatingRepository">
  	<insert id="insertMovieRating" parameterType="com.project.watchapedia.domain.movie.MovieRating"
  	 useGeneratedKeys="true">
  		
  		insert into
  			movie_rating
  		values(
  			0, 
  			${user_code},
  			${movie_code},
  			${rating_score},
  			now()
  		);
  		
  	</insert>
  	
  	<select id="getMovieRating" parameterType="hashmap" resultType="com.project.watchapedia.domain.movie.MovieRating">
  	
  		select
  			user_code,
  			movie_code,
  			rating_score
  		from
  			movie_rating
  		where
  			user_code = ${userCode} and movie_code = ${movieCode};
  			
  	</select>
  
  </mapper>